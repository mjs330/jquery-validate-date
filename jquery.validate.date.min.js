var jvdate={dateformat:"M",onchange:!0,format:function(t){if(null!=t&&""!=t)if("M"==t||"L"==t||"B"==t)jvdate.dateformat=t;else if(t.indexOf("MM")>-1&&t.indexOf("DD")>-1&&t.indexOf("YYYY")>-1&&(t.indexOf("/")>-1||t.indexOf("-")>-1||t.indexOf("*")>-1)){var a=jvdate.findsplitter(t);switch(t){case"MM"+a+"DD"+a+"YYYY":case"DD"+a+"MM"+a+"YYYY":jvdate.dateformat="M";break;case"YYYY"+a+"MM"+a+"DD":jvdate.dateformat="B"}}},setformat:function(t){jvdate.format(t)},setonchange:function(t){1!=t&&0!=t||(onchange=t,jvdate.bind)},todate:function(t){var a=jvdate.findsplitter(t);if(""==a)return"Invalid Date";var e=t.split(a);return(jvdate.dateformat="M")?new Date(e[2],e[0]-1,e[1]).setHours(0,0,0,0):(jvdate.dateformat="L")?new Date(e[2],e[1]-1,e[0]).setHours(0,0,0,0):(jvdate.dateformat="B")?new Date(e[0],e[1]-1,e[2]).setHours(0,0,0,0):"Invalid Date"},findsplitter:function(t){return null==t||""==t?"":!(t.indexOf("-")>-1)||t.indexOf("/")>-1||t.indexOf("*")>-1?!(t.indexOf("*")>-1)||t.indexOf("/")>-1||t.indexOf("-")>-1?!(t.indexOf("/")>-1)||t.indexOf("-")>-1||t.indexOf("*")>-1?"":"/":"*":"-"},rebind:function(){this.bind()},bind:function(){jQuery.validator.addMethod("ranged",function(t,a){var e=jvdate.todate(t),d=e,n=null,i=a.getAttribute("data-end-date");return null==i?null==(i=a.getAttribute("data-start-date"))||($("input[data-end-date]").each(function(){$(this).data("end-date")==i&&(e=jvdate.todate($(this).val()),n=this)}),!(d>e)&&($(n).hasClass("error")&&$(n).removeClass("error"),!0)):($("input[data-start-date]").each(function(){$(this).data("start-date")==i&&(d=jvdate.todate($(this).val()),n=this)}),!(d>e)&&($(n).hasClass("error")&&$(n).removeClass("error"),!0))},"Please enter a valid date range."),$("input[data-start-date]").each(function(){void 0!==$(this)&&$(this).rules("add",{ranged:!0})}),$("input[data-end-date]").each(function(){void 0!==$(this)&&$(this).rules("add",{ranged:!0})}),jQuery.validator.addMethod("rangemax",function(t,a){var e=jvdate.todate(t),d=e,n=null,i=a.getAttribute("data-max-date-range"),r=a.getAttribute("data-end-date");if(null==r){if(null==(r=a.getAttribute("data-start-date")))return!0;var u=!1;return $("input[data-end-date]").each(function(){$(this).data("end-date")==r&&(e=jvdate.todate($(this).val()),(n=this).getAttribute("data-max-date-range")!=i&&null!=n.getAttribute("data-max-date-range")&&(u=!0))}),!(!u&&!isNaN(parseInt(i)))||!(Math.round(Math.abs((d-e)/864e5))>parseInt(i))&&($(n).hasClass("error")&&$(n).removeClass("error"),!0)}u=!1;return $("input[data-start-date]").each(function(){$(this).data("start-date")==r&&(d=jvdate.todate($(this).val()),(n=this).getAttribute("data-max-date-range")!=i&&null!=n.getAttribute("data-max-date-range")&&(u=!0))}),!(!u&&!isNaN(parseInt(i)))||!(Math.round(Math.abs((d-e)/864e5))>parseInt(i))&&($(n).hasClass("error")&&$(n).removeClass("error"),!0)},"Please enter a date range less than the maximum."),$("input[data-max-date-range]").each(function(){void 0!==$(this)&&$(this).rules("add",{rangemax:!0})}),jQuery.validator.addMethod("rangemin",function(t,a){var e=jvdate.todate(t),d=e,n=null,i=a.getAttribute("data-min-date-range"),r=a.getAttribute("data-end-date");if(null==r){if(null==(r=a.getAttribute("data-start-date")))return!0;var u=!1;return $("input[data-end-date]").each(function(){$(this).data("end-date")==r&&(e=jvdate.todate($(this).val()),(n=this).getAttribute("data-min-date-range")!=i&&null!=n.getAttribute("data-min-date-range")&&(u=!0))}),!(!u&&!isNaN(parseInt(i)))||!(Math.round(Math.abs((d-e)/864e5))<parseInt(i))&&($(n).hasClass("error")&&$(n).removeClass("error"),!0)}u=!1;return $("input[data-start-date]").each(function(){$(this).data("start-date")==r&&(d=jvdate.todate($(this).val()),(n=this).getAttribute("data-min-date-range")!=i&&null!=n.getAttribute("data-min-date-range")&&(u=!0))}),!(!u&&!isNaN(parseInt(i)))||!(Math.round(Math.abs((d-e)/864e5))<parseInt(i))&&($(n).hasClass("error")&&$(n).removeClass("error"),!0)},"Please enter a date range greater than the minimum."),$("input[data-min-date-range]").each(function(){void 0!==$(this)&&$(this).rules("add",{rangemin:!0})}),jQuery.validator.addMethod("inPast",function(t,a){var e=(new Date).setHours(0,0,0,0),d=jvdate.todate(t);return d==e&&void 0!=typeof $(a).data("current-date")||d<e||void 0!==$(a).data("future-date")},"Please enter a date in the past."),$("input[data-past-date]").each(function(){void 0!==$(this)&&$(this).rules("add",{inPast:!0})}),jQuery.validator.addMethod("inFuture",function(t,a){var e=(new Date).setHours(0,0,0,0),d=jvdate.todate(t);return d==e&&void 0!=typeof $(a).data("current-date")||d>e||void 0!==$(a).data("past-date")},"Please enter a date in the future."),$("input[data-future-date]").each(function(){void 0!==$(this)&&$(this).rules("add",{inFuture:!0})}),jQuery.validator.addMethod("beforeOrAtMax",function(t,a){if(void 0!==$(a).data("past-date")||void 0!==$(a).data("future-date"))return!0;var e="";return"Invalid Date"==jvdate.todate(a.getAttribute("data-max-date"))||(e=jvdate.todate(a.getAttribute("data-max-date")),jvdate.todate(t)<=e)},"Please enter a date on or before the maximum date."),$("input[data-max-date]").each(function(){void 0!==$(this)&&$(this).rules("add",{beforeOrAtMax:!0})}),jQuery.validator.addMethod("afterOrAtMin",function(t,a){if(void 0!==$(a).data("past-date")||void 0!==$(a).data("future-date"))return!0;var e="";return"Invalid Date"==jvdate.todate(a.getAttribute("data-min-date"))||(e=jvdate.todate(a.getAttribute("data-min-date")),jvdate.todate(t)>=e)},"Please enter a date on or after the minimum date."),$("input[data-min-date]").each(function(){void 0!==$(this)&&$(this).rules("add",{afterOrAtMin:!0})}),1==jvdate.onchange?($("body").on("change keyup","input[data-future-date]",function(){"Invalid Date"!=jvdate.todate($(this).val())&&$(this).valid()}),$("body").on("change keyup","input[data-past-date]",function(){"Invalid Date"!=jvdate.todate($(this).val())&&$(this).valid()}),$("body").on("change keyup","input[data-start-date]",function(){var t="Invalid Date",a=$(this).data("start-date");$("input[data-end-date]").each(function(){$(this).data("end-date")==a&&"Invalid Date"!=(t=jvdate.todate($(this).val()))&&$(this).valid()}),"Invalid Date"!=t&&$(this).valid()}),$("body").on("change keyup","input[data-end-date]",function(){var t="Invalid Date",a=$(this).data("end-date");$("input[data-start-date]").each(function(){$(this).data("start-date")==a&&"Invalid Date"!=(t=jvdate.todate($(this).val()))&&$(this).valid()}),"Invalid Date"!=t&&$(this).valid()})):($("body").on("change keyup","input[data-future-date]",function(){}),$("body").on("change keyup","input[data-past-date]",function(){}),$("body").on("change keyup","input[data-start-date]",function(){}),$("body").on("change keyup","input[data-end-date]",function(){}))}};